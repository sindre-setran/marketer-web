import { cn } from "@/lib/utils";

interface TestimonialCardProps {
  quote: string;
  author: string;
  company: string;
  rating?: number;
  className?: string;
}

export function TestimonialCard({
  quote,
  author,
  company,
  rating = 5,
  className
}: TestimonialCardProps) {
  const initial = author.charAt(0).toUpperCase();
  
  return (
    <div 
      className={cn(
        "bg-white rounded-3xl p-8 flex flex-col gap-6 min-w-[400px] max-w-[400px]",
        className
      )}
    >
      {/* Trustpilot Logo and Stars */}
      <div className="flex items-center justify-between">
        <div className="flex items-center gap-2">
          <svg width="99" height="24" viewBox="0 0 99 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clipPath="url(#clip0_5675_1116)">
            <path d="M26.0124 8.44944H36.0347V10.2826H32.0945V20.5899H29.9264V10.2826H26.0032V8.44873H26.0117L26.0124 8.44944ZM35.6069 11.7988H37.4596V13.4958H37.4942C37.5558 13.2558 37.6689 13.0243 37.8351 12.8019C38.1904 12.3238 38.6713 11.9532 39.2246 11.7311C39.5056 11.6197 39.8048 11.5613 40.1071 11.5588C40.3334 11.5588 40.5003 11.568 40.588 11.5765C40.675 11.585 40.762 11.6019 40.8581 11.6104V13.4781C40.7162 13.4534 40.5735 13.4334 40.4303 13.4181C40.2881 13.4014 40.145 13.3929 40.0018 13.3927C39.6694 13.3927 39.3554 13.4612 39.0584 13.5904C38.7614 13.7181 38.5076 13.9151 38.2898 14.1643C38.0574 14.4429 37.8794 14.7625 37.7651 15.1066C37.6343 15.4836 37.5727 15.9113 37.5727 16.4005V20.5814H35.5984V11.7988H35.6069ZM49.9371 20.5906H47.9974V19.3659H47.9621C47.7174 19.8106 47.3596 20.1621 46.8787 20.4283C46.3979 20.6937 45.9085 20.8306 45.4107 20.8306C44.2312 20.8306 43.3741 20.5483 42.8509 19.9744C42.3262 19.3998 42.0638 18.5344 42.0638 17.3774V11.7996H44.0389V17.189C44.0389 17.9605 44.1874 18.509 44.4935 18.8259C44.7905 19.1428 45.2184 19.3059 45.76 19.3059C46.1794 19.3059 46.5202 19.2459 46.7995 19.1167C47.0796 18.989 47.3066 18.8259 47.4727 18.6113C47.6474 18.4059 47.7697 18.149 47.8489 17.8574C47.9267 17.5659 47.9621 17.2497 47.9621 16.9066V11.808H49.9371V20.5906ZM53.301 17.772C53.3625 18.3367 53.5803 18.732 53.9565 18.9628C54.3405 19.1859 54.7952 19.3059 55.3284 19.3059C55.5122 19.3059 55.7216 19.2883 55.9577 19.2628C56.1932 19.2374 56.4202 19.1774 56.6218 19.1005C56.8311 19.0228 56.9965 18.9028 57.1366 18.749C57.2681 18.5944 57.3289 18.3974 57.3204 18.149C57.3193 18.0336 57.2938 17.9199 57.2457 17.815C57.1976 17.7102 57.1278 17.6166 57.0411 17.5405C56.8657 17.3781 56.6479 17.2581 56.3764 17.1551C56.0739 17.0505 55.7643 16.9674 55.45 16.9066C55.1007 16.8381 54.7514 16.7612 54.3935 16.6836C54.0331 16.6057 53.6771 16.5084 53.3272 16.392C52.999 16.287 52.6895 16.131 52.41 15.9297C52.1377 15.74 51.9157 15.4871 51.763 15.1927C51.5975 14.8927 51.5183 14.5243 51.5183 14.0788C51.5183 13.5988 51.6406 13.205 51.8768 12.8788C52.1151 12.5555 52.4226 12.2892 52.777 12.0996C53.1579 11.8986 53.5674 11.7569 53.9912 11.6796C54.4367 11.6026 54.8652 11.5596 55.2669 11.5596C55.73 11.5596 56.1755 11.6111 56.5956 11.7057C57.0023 11.7928 57.3899 11.9525 57.7397 12.1772C58.0806 12.3911 58.3599 12.6741 58.5876 13.0172C58.8146 13.3596 58.9546 13.7796 59.0154 14.2673H56.9534C56.8572 13.805 56.6472 13.488 56.3071 13.3334C55.9662 13.1711 55.5731 13.0934 55.136 13.0934C54.996 13.0934 54.8299 13.1019 54.6382 13.128C54.4536 13.1525 54.2718 13.1956 54.0958 13.2565C53.935 13.3156 53.789 13.4091 53.668 13.5304C53.6093 13.5937 53.5636 13.6679 53.5337 13.7488C53.5037 13.8297 53.49 13.9157 53.4934 14.0019C53.4934 14.2419 53.5803 14.4304 53.7465 14.5758C53.9127 14.7219 54.1312 14.8412 54.402 14.9443C54.6729 15.0388 54.9791 15.1243 55.3284 15.1927C55.6777 15.2612 56.0355 15.3388 56.4032 15.4158C56.7611 15.4927 57.1104 15.5958 57.4604 15.7066C57.8098 15.8181 58.1152 15.9727 58.3868 16.1697C58.6576 16.3673 58.8761 16.6066 59.0416 16.8981C59.2078 17.189 59.2955 17.5574 59.2955 17.9859C59.2955 18.5083 59.1731 18.9459 58.9277 19.3144C58.6838 19.6744 58.3691 19.9737 57.9844 20.1967C57.5817 20.4283 57.1454 20.596 56.6911 20.6937C56.2289 20.7952 55.7571 20.8468 55.2838 20.8476C54.7538 20.8535 54.2254 20.7901 53.7119 20.6591C53.231 20.5306 52.8117 20.3421 52.4623 20.0944C52.1171 19.844 51.8332 19.5186 51.6322 19.1428C51.4313 18.7659 51.326 18.312 51.309 17.789H53.301V17.772ZM59.8195 11.8003H61.3136V9.16026H63.2887V11.8003H65.0707V13.2473H63.2894V17.9436C63.2894 18.1483 63.2979 18.3205 63.3156 18.4744C63.3325 18.6205 63.3764 18.749 63.4379 18.8513C63.5047 18.9589 63.6062 19.0405 63.7257 19.0828C63.8572 19.1344 64.0227 19.1605 64.2504 19.1605C64.3897 19.1605 64.5297 19.1605 64.6697 19.1513C64.8098 19.1428 64.9491 19.1259 65.0891 19.0913V20.5906C64.8706 20.6167 64.6521 20.6337 64.4512 20.6598C64.2395 20.6841 64.0265 20.6954 63.8134 20.6937C63.2894 20.6937 62.8701 20.6421 62.5547 20.5483C62.2407 20.4537 61.9868 20.3083 61.8122 20.1198C61.6283 19.9313 61.5152 19.6998 61.4452 19.4167C61.3771 19.0984 61.3392 18.7744 61.332 18.449V13.2636H59.8378V11.7981H59.8202L59.8195 11.8003ZM66.4687 11.8003H68.3391V12.9904H68.3745C68.6531 12.4765 69.0378 12.1165 69.5356 11.8941C70.0445 11.6683 70.596 11.5542 71.1528 11.5596C71.86 11.5596 72.4717 11.6796 72.9964 11.928C73.5203 12.168 73.9574 12.5026 74.3067 12.9304C74.656 13.3596 74.9099 13.8558 75.0845 14.4219C75.2625 15.0108 75.351 15.623 75.3469 16.2381C75.3469 16.8297 75.2684 17.4028 75.1107 17.952C74.966 18.482 74.7261 18.9814 74.4029 19.4259C74.0852 19.854 73.6725 20.2029 73.1972 20.4452C72.7078 20.7021 72.14 20.8306 71.476 20.8306C71.1858 20.8305 70.8961 20.8048 70.6104 20.7537C70.3255 20.7022 70.0472 20.6188 69.781 20.5052C69.5165 20.3952 69.2691 20.2481 69.0463 20.0683C68.8263 19.8929 68.6348 19.6849 68.4784 19.4513H68.4431V23.8384H66.4687V11.7988V11.8003ZM73.3718 16.2036C73.3718 15.8097 73.3195 15.4243 73.2149 15.0473C73.118 14.6906 72.958 14.354 72.7425 14.0534C72.5378 13.7678 72.2725 13.5308 71.9653 13.3596C71.6354 13.1813 71.2656 13.0898 70.8905 13.0934C70.0603 13.0934 69.4309 13.3758 69.0116 13.9419C68.5923 14.5073 68.3822 15.2619 68.3822 16.2036C68.3822 16.6497 68.4353 17.0605 68.5484 17.4374C68.6616 17.8144 68.8193 18.1405 69.0463 18.4144C69.2655 18.689 69.5271 18.9028 69.8333 19.0567C70.1388 19.2198 70.4973 19.2967 70.899 19.2967C71.3537 19.2967 71.7292 19.2028 72.0438 19.0228C72.3486 18.8478 72.611 18.6081 72.8125 18.3205C73.0133 18.029 73.1625 17.7036 73.2495 17.3351C73.3299 16.9635 73.3709 16.5837 73.3718 16.2036ZM76.8581 8.44944H78.8331V10.2833H76.8581V8.44944ZM76.8581 11.7996H78.8331V20.5906H76.8581V11.7996ZM80.5981 8.44944H82.5732V20.5906H80.5981V8.44944ZM88.6285 20.8306C87.9114 20.8306 87.2736 20.7106 86.7149 20.4798C86.1793 20.2605 85.6946 19.9338 85.2907 19.5198C84.8981 19.0975 84.5973 18.5985 84.4075 18.0544C84.1997 17.4538 84.0963 16.822 84.102 16.1866C84.102 15.5181 84.2067 14.9019 84.4075 14.3358C84.5975 13.7919 84.8982 13.2932 85.2907 12.8711C85.6747 12.4596 86.1556 12.1426 86.7149 11.9111C87.2736 11.6796 87.9114 11.5596 88.6285 11.5596C89.3448 11.5596 89.9826 11.6796 90.542 11.9111C91.0776 12.1303 91.5623 12.4571 91.9662 12.8711C92.3587 13.2931 92.6592 13.7918 92.8487 14.3358C93.0495 14.9019 93.1542 15.5181 93.1542 16.1866C93.1542 16.8643 93.0495 17.489 92.8487 18.0544C92.6594 18.5986 92.3588 19.0976 91.9662 19.5198C91.5815 19.9313 91.1013 20.2483 90.542 20.4798C89.9826 20.7106 89.3448 20.8306 88.6285 20.8306ZM88.6285 19.2967C89.0655 19.2967 89.4494 19.2028 89.7726 19.0228C90.0876 18.8478 90.3594 18.6047 90.5681 18.3113C90.7775 18.0205 90.926 17.6859 91.0313 17.3181C91.1275 16.949 91.1798 16.5727 91.1798 16.1866C91.1798 15.8097 91.1275 15.4412 91.0313 15.0643C90.9413 14.7067 90.7841 14.3695 90.5681 14.0704C90.359 13.7798 90.0871 13.5397 89.7726 13.368C89.4494 13.188 89.0655 13.0934 88.6285 13.0934C88.1914 13.0934 87.8068 13.188 87.4836 13.368C87.1711 13.5424 86.9 13.7819 86.6888 14.0704C86.4759 14.3712 86.319 14.7079 86.2256 15.0643C86.1288 15.4306 86.0787 15.8077 86.0764 16.1866C86.0764 16.5727 86.1294 16.949 86.2256 17.3181C86.3217 17.6859 86.4787 18.0205 86.6888 18.3113C86.8981 18.6028 87.1604 18.8428 87.4836 19.0228C87.8068 19.2113 88.1914 19.2967 88.6285 19.2967ZM93.7312 11.8003H95.2254V9.16026H97.2004V11.8003H98.9824V13.2473H97.2004V17.9436C97.2004 18.1483 97.2089 18.3205 97.2259 18.4744C97.2436 18.6205 97.2874 18.749 97.3489 18.8513C97.4156 18.959 97.5172 19.0407 97.6367 19.0828C97.7683 19.1344 97.9337 19.1605 98.1614 19.1605C98.3007 19.1605 98.4408 19.1605 98.5808 19.1513C98.7208 19.1428 98.8601 19.1259 99.0001 19.0913V20.5906C98.7816 20.6167 98.5631 20.6337 98.3623 20.6598C98.1506 20.6841 97.9375 20.6954 97.7244 20.6937C97.2004 20.6937 96.7804 20.6421 96.4657 20.5483C96.1517 20.4537 95.8979 20.3083 95.7232 20.1198C95.5401 19.9313 95.4262 19.6998 95.3562 19.4167C95.2882 19.0984 95.2504 18.7744 95.2431 18.449V13.2636H93.7489V11.7981H93.7312V11.8003Z" fill="#1C1C1C"/>
            <path d="M23.7055 8.44871H14.6534L11.8574 0L9.05143 8.44941L0 8.44024L7.33095 13.6666L4.52642 22.1061L11.8574 16.8882L19.1798 22.1061L16.3838 13.6666L23.7055 8.44871Z" fill="#04DA8D"/>
            <path d="M17.0125 15.5783L16.3831 13.6675L11.8574 16.8891L17.0125 15.5783Z" fill="#126849"/>
            </g>
            <defs>
            <clipPath id="clip0_5675_1116">
            <rect width="99" height="24" fill="white"/>
            </clipPath>
            </defs>
          </svg>
        </div>
        <div className="flex gap-1">
          {Array.from({ length: rating }).map((_, i) => (
            <div key={i} className="flex items-center justify-center rounded-sm">
              <svg className="w-full max-w-5" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M15.9375 0H0V16H15.9375V0Z" fill="#00B67A"/>
                <path d="M7.96875 10.7835L10.3926 10.1669L11.4053 13.3002L7.96875 10.7835ZM13.5469 6.73353H9.28027L7.96875 2.7002L6.65723 6.73353H2.39062L5.84375 9.23353L4.53223 13.2669L7.98535 10.7669L10.1104 9.23353L13.5469 6.73353Z" fill="white"/>
              </svg>
            </div>
          ))}
        </div>
      </div>
      
      {/* Quote */}
      <blockquote>
        &ldquo;{quote}&rdquo;
      </blockquote>
      
      {/* Author Info */}
      <div className="flex items-center gap-3 mt-auto">
        <div className="w-9 h-9 rounded-full bg-[#00B67A]/10 flex items-center justify-center">
          <span className="text-[#00B67A] font-semibold tex-sm">{initial}</span>
        </div>
        <div className="leading-snug text-sm font-medium">
          <div>{author}</div>
          <div className="text-muted-foreground">{company}</div>
        </div>
      </div>
    </div>
  );
}

